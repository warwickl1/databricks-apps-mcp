# This contains all the information for deploying a Databricks Asset Bundle.

bundle:
  name: project-name

artifacts:
  # Build the project as a Python whl so it can be installed on the cluster.
  default:
    type: whl
    build: pip install build && python -m build

variables:
  # Jobs must have this passed in
  cluster_policy_id:
    description: The cluster policy ID to use for the cluster
    default: cluster-policy-id-not-set

include:
  - resources/*.yml  # Include all files in the resources directory

targets:
  sandbox:
    default: true
    workspace:
      host: https://cirium-data-workspace-dev.cloud.databricks.com
    variables:
      cluster_policy_id: 001F979AFCBF38F9  # data-science-job

  dev:
    workspace:
      host: https://cirium-data-workspace-dev.cloud.databricks.com

  test:
    workspace: 
      host: https://cirium-data-workspace-staging.cloud.databricks.com

  staging:
    workspace:
      host: https://cirium-data-workspace-staging.cloud.databricks.com

  prod:
    workspace:
      host: https://cirium-data-workspace-prod.cloud.databricks.com
